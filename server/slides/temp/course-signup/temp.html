<div class="fragment fade-in-then-out">
  <h5>Admin login</h5>
  <p>
    The API begins with the admin logging into the admin application using their
    credentials to gain access to administrative functions.
  </p>
</div>

<div class="fragment fade-in-then-out">
  <p>This is achieved by making an HTTP request to the following endpoint:</p>

  <div class="operation-container">
    <div class="operation operation-post">
      <div class="method method-post">POST</div>
      <div class="path">/auth/token</div>
      <div class="summary">Authenticate user and obtain a access token</div>
      <div class="right-icons">
        <div class="auth-btn-container locked">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 20 20"
            class="locked"
            width="20"
            height="20"
            aria-hidden="true"
            focusable="false"
          >
            <path
              d="M15.8 8H14V5.6C14 2.703 12.665 1 10 1 7.334 1 6 2.703 6 5.6V8H4c-.553 0-1 .646-1 1.199V17c0 .549.428 1.139.951 1.307l1.197.387C5.672 18.861 6.55 19 7.1 19h5.8c.549 0 1.428-.139 1.951-.307l1.196-.387c.524-.167.953-.757.953-1.306V9.199C17 8.646 16.352 8 15.8 8zM12 8H8V5.199C8 3.754 8.797 3 10 3c1.203 0 2 .754 2 2.199V8z"
            ></path>
          </svg>
        </div>

        <div class="op-block-arrow-container">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 20 20"
            class="arrow"
            width="20"
            height="20"
            aria-hidden="true"
            focusable="false"
          >
            <path
              d="M17.418 6.109c.272-.268.709-.268.979 0s.271.701 0 .969l-7.908 7.83c-.27.268-.707.268-.979 0l-7.908-7.83c-.27-.268-.27-.701 0-.969.271-.268.709-.268.979 0L10 13.25l7.418-7.141z"
            ></path>
          </svg>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="fragment fade-in-then-out">
  <p>
    The client sends an HTTP request, exchanging the the user's username and
    password for an access token:
  </p>

  <pre><code class="langage-shell">curl -X 'POST' \
  'http://localhost:4010/auth/token' \
  -H 'accept: application/json' \
  -H 'Authorization: Basic YWRtaW5fd2ViX2FwcDphNWQ3ZjIzZS04YjY0LTRiNGMtOWIxMS0yMWM1Y2ZkZjI1ZjE=' \
  -H 'Content-Type: application/json' \
  -d '{
  "grant_type": "password",
  "user_name": "john_doe",
  "password": "P@ssw0rd!"
}'</code></pre>
</div>

<div class="fragment fade-in-then-out">
  <p>
    If the request was successful, the server responds with a
    <code>201 Created</code> status code with the response body containing the
    access token.
  </p>
</div>

<div class="fragment fade-in-then-out">
  <h5>Create ingredients</h5>
  <p>Ingredients are fundamental components used to create dishes.</p>
</div>
<div class="fragment fade-in-then-out">
  <p>
    Admins create ingredients and specify their `in_stock_qty` to track
    inventory levels accurately.
  </p>
</div>
<div class="fragment fade-in-then-out">
  <p>
    This ensures there are sufficient ingredients available to fulfill customer
    orders.
  </p>
</div>

<div class="fragment fade-in-then-out">
  <p>This is achieved by making an HTTP request to the following endpoint:</p>
  <div class="operation-container">
    <div class="operation operation-post">
      <div class="method method-post">POST</div>
      <div class="path">/ingredients</div>
      <div class="summary">
        Create an ingredient
        <div class="right-icons">
          <div class="auth-btn-container locked">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 20 20"
              class="locked"
              width="20"
              height="20"
              aria-hidden="true"
              focusable="false"
            >
              <path
                d="M15.8 8H14V5.6C14 2.703 12.665 1 10 1 7.334 1 6 2.703 6 5.6V8H4c-.553 0-1 .646-1 1.199V17c0 .549.428 1.139.951 1.307l1.197.387C5.672 18.861 6.55 19 7.1 19h5.8c.549 0 1.428-.139 1.951-.307l1.196-.387c.524-.167.953-.757.953-1.306V9.199C17 8.646 16.352 8 15.8 8zM12 8H8V5.199C8 3.754 8.797 3 10 3c1.203 0 2 .754 2 2.199V8z"
              ></path>
            </svg>
          </div>

          <div class="op-block-arrow-container">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 20 20"
              class="arrow"
              width="20"
              height="20"
              aria-hidden="true"
              focusable="false"
            >
              <path
                d="M17.418 6.109c.272-.268.709-.268.979 0s.271.701 0 .969l-7.908 7.83c-.27.268-.707.268-.979 0l-7.908-7.83c-.27-.268-.27-.701 0-.969.271-.268.709-.268.979 0L10 13.25l7.418-7.141z"
              ></path>
            </svg>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="fragment fade-in-then-out">
    <p>
      The client sends an HTTP request to create a new ingredient and sets the
      quantity.
    </p>
    <p>
      The endpoint is protected, so the client includes the access token in the
      authorization header.
    </p>

    <pre><code data-line-numbers="7-9" class="langage-shell">curl -X 'POST' \
    'http://localhost:4010/ingredients' \
    -H 'accept: application/json' \
    -H 'Authorization: Bearer fa0b97b2-445f-41d2-b50f-fb3b014a301e' \
    -H 'Content-Type: application/json' \
    -d '{
    "display_name": "tomato",
    "name": "tomato",
    "in_stock_qty": 3
  }'</code></pre>
  </div>

  <div class="fragment fade-in-then-out">
    <p>
      The endpoint is protected, so the client includes the access token in the
      authorization header.
    </p>

    <pre><code data-line-numbers="4" class="langage-shell">curl -X 'POST' \
    'http://localhost:4010/ingredients' \
    -H 'accept: application/json' \
    -H 'Authorization: Bearer fa0b97b2-445f-41d2-b50f-fb3b014a301e' \
    -H 'Content-Type: application/json' \
    -d '{
    "display_name": "tomato",
    "name": "tomato",
    "in_stock_qty": 3
  }'</code></pre>
  </div>

  <div class="fragment fade-in-then-out">
    <p>
      If the request was successful, the server responds with a
      <code>201 Created</code> status code with the response body containing the ingredient's details.
    </p>
  </div>

  <div class="fragment fade-in-then-out">
    <p>The ingredient ID returned in the response can be used to associate the ingredient with a dish.</p>
    <pre><code class="language-json">{
  "ingredient_id": "66294b2a4475a41f3e709bc8",
  "created_at": "2024-04-22T10:00:00Z",
  "updated_at": "2024-04-22T10:00:00Z",
  "display_name": "tomato",
  "name": "tomato",
  "in_stock_qty": 3
    }</code></pre>
  </div>
  <div class="fragment fade-in-then-out">
    <p>The quantity can be used to track if the ingredient has a positive quantity.</p>
    <pre><code class="language-json">{
  "ingredient_id": "66294b2a4475a41f3e709bc8",
  "created_at": "2024-04-22T10:00:00Z",
  "updated_at": "2024-04-22T10:00:00Z",
  "display_name": "tomato",
  "name": "tomato",
  "in_stock_qty": 3
}</code></pre>
  </div>
</div>
